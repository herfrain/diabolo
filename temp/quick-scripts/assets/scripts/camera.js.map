{"version":3,"sources":["camera.js"],"names":["random","require","cc","Class","extends","Component","properties","label","default","type","Node","labelComponent","diabolo","diaboloComponent","once","preH","heightDifference","onLoad","getComponent","start","update","dt","y","h","moveAction","moveBy","v2","easing","easeCubicActionOut","node","runAction"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,SAAOC,QAAQ,QAAR,CAAX;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAM;AACFC,qBAAQ,IADN;AAEFC,kBAAKP,GAAGQ;AAFN,SADE;AAKRC,wBAAe,IALP;AAMRC,iBAAQ;AACJJ,qBAAQ,IADJ;AAEJC,kBAAKP,GAAGQ;AAFJ,SANA,EASN;AACFG,0BAAiB,IAVT;AAWRC,cAAK,IAXG;AAYRC,cAAK,CAZG,EAYD;AACPC,0BAAiB;AAbT,KAHP;;AAmBL;;AAEAC,UArBK,oBAqBK;AACN;AACA,aAAKJ,gBAAL,GAAsB,KAAKD,OAAL,CAAaM,YAAb,CAA0B,SAA1B,CAAtB,CAFM,CAEoD;AAC7D,KAxBI;AA0BLC,SA1BK,mBA0BI,CAER,CA5BI;AA8BLC,UA9BK,kBA8BGC,EA9BH,EA8BO;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAG,KAAKR,gBAAL,CAAsBS,CAAtB,GAAwB,KAAKP,IAA7B,GAAkC,CAArC,EAAuC;AACnC;AACA,gBAAIQ,IAAE,KAAKV,gBAAL,CAAsBS,CAAtB,GAAwB,KAAKP,IAAnC;AACA,iBAAKA,IAAL,GAAU,KAAKF,gBAAL,CAAsBS,CAAhC;AACA;AACA;AACA;AACA,gBAAIE,aAAWtB,GAAGuB,MAAH,CAAU,CAAV,EAAYvB,GAAGwB,EAAH,CAAM,CAAN,EAAQH,CAAR,CAAZ,EAAwBI,MAAxB,CAA+BzB,GAAG0B,kBAAH,EAA/B,CAAf;AACA,iBAAKC,IAAL,CAAUC,SAAV,CAAoBN,UAApB;AACH;AACJ;AArDI,CAAT","file":"camera.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar random=require('random')\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        label:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        labelComponent:null,\r\n        diabolo:{\r\n            default:null,\r\n            type:cc.Node\r\n        },//空竹对象\r\n        diaboloComponent:null,\r\n        once:true,\r\n        preH:0,//前一个高度\r\n        heightDifference:0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        // this.enabled=false\r\n        this.diaboloComponent=this.diabolo.getComponent(\"diabolo\")//获取组件\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        // this.node.y++//移动摄像机\r\n        // this.label.y++//标签同时移动\r\n\r\n        //其实只要改变画布canvas的位置，就会一直往上运动\r\n        // this.node.parent.y++\r\n        // cc.log(this.node.y)\r\n\r\n        // if(this.diabolo.y>this.node.y+this.node.parent.height/2){\r\n        //     this.node.y+=this.diabolo.y-(this.node.y+this.node.parent.height/2)\r\n        // }\r\n\r\n        // 如果高度差大于0，即往上运动时，摄像机跟随移动\r\n        if(this.diaboloComponent.y-this.preH>0){\r\n            // cc.log(this.diaboloComponent.y)\r\n            var h=this.diaboloComponent.y-this.preH\r\n            this.preH=this.diaboloComponent.y\r\n            // cc.log()\r\n            // this.node.y+=this.heightDifference\r\n            //缓动效果\r\n            var moveAction=cc.moveBy(1,cc.v2(0,h)).easing(cc.easeCubicActionOut())\r\n            this.node.runAction(moveAction)\r\n        }\r\n    },\r\n});\r\n"]}