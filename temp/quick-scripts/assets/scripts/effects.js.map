{"version":3,"sources":["effects.js"],"names":["ItemType","IT_None","IT_BigStar","IT_SmallStar","IT_Pen","IT_Jump","effects","cc","Class","extends","Component","properties","camera","pickRadius","ItemPrefabList","default","type","Prefab","ItemRateList","Integer","_RandBaseNum","_RandRateList","_ItemPoolList","onLoad","find","start","node","children","update","dt","i","length","isValid","y","parent","height","destroy","module","exports","getRandomNum","randNum","parseInt","Math","random","getItem","randomNum"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,WACJ;AACI;AACAC,aAAQ,CAFZ;AAGI;AACAC,gBAAW,CAJf;AAKI;AACAC,kBAAa,CANjB;AAOI;AACAC,YAAO,CARX;AASI;AACAC,aAAQ;AAVZ,CADA;;AAcA,IAAIC,UAAUC,GAAGC,KAAH,CAAS;AACnBC,aAASF,GAAGG,SADO;;AAGnBC,gBAAY;AACTL,iBAAQ,IADC;AAETM,gBAAO,IAFE;;AAKT;AACCC,oBAAW,CANH;;AAQT;AACAC,wBACA;AACIC,qBAAS,EADb;AAEIC,kBAAM,CAACT,GAAGU,MAAJ;AAFV,SAVS;;AAeT;AACAC,sBACA;AACIH,qBAAQ,EADZ;AAEIC,kBAAM,CAACT,GAAGY,OAAJ;AAFV,SAjBS;;AAsBT;AACAC,sBAAe,GAvBN;AAwBTC,uBAAe,EAxBN;AAyBT;AACAC,uBAAe;AA1BN,KAHO;;AAgCnB;;AAEAC,UAlCmB,oBAkCT;AACN,aAAKX,MAAL,GAAYL,GAAGiB,IAAH,CAAQ,oBAAR,CAAZ;AACH,KApCkB;AAsCnBC,SAtCmB,mBAsCV;AACL,aAAKnB,OAAL,GAAa,KAAKoB,IAAL,CAAUC,QAAvB;AACH,KAxCkB;AA0CnBC,UA1CmB,kBA0CXC,EA1CW,EA0CP;AACR;AACA;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,KAAKxB,OAAL,CAAayB,MAA3B,EAAkCD,GAAlC,EAAsC;AAClC,gBAAG,KAAKxB,OAAL,CAAawB,CAAb,EAAgBE,OAAnB,EAA2B;AACvB,oBAAG,KAAK1B,OAAL,CAAawB,CAAb,EAAgBG,CAAhB,GAAkB,KAAKrB,MAAL,CAAYqB,CAAZ,GAAc,KAAKrB,MAAL,CAAYsB,MAAZ,CAAmBC,MAAnB,GAA0B,CAA7D,EAA+D;AAC3D,yBAAK7B,OAAL,CAAawB,CAAb,EAAgBM,OAAhB;AACH;AACJ;AACJ;AACJ;AApDkB,CAAT,CAAd;;AA2DAC,OAAOC,OAAP,GAAiB;AACbC,kBAAa,wBAAW;AACpB;AACA,YAAIC,UAAUC,SAASC,KAAKC,MAAL,KAAc,CAAvB,CAAd;AACA,eAAOH,OAAP;AACH,KALY;AAMbI,aAAQ,iBAASC,SAAT,EAAoB;AACxB,gBAAOA,SAAP;AACI;AACA,iBAAK,CAAL;AACI,uBAAO,IAAP;AACJ;AACA,iBAAK,CAAL;AACI,uBAAO,UAAP;AACJ;AACA,iBAAK,CAAL;AACI,uBAAO,YAAP;AACJ;AACA,iBAAK,CAAL;AACI,uBAAO,KAAP;AACJ;AACA,iBAAK,CAAL;AACI,uBAAO,MAAP;AAfR;AAiBH;AAxBY,CAAjB","file":"effects.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar ItemType = \r\n{\r\n    //没有东西\r\n    IT_None:0,\r\n    //变大\r\n    IT_BigStar:1,\r\n    //变小\r\n    IT_SmallStar:2,\r\n    //画辅助线\r\n    IT_Pen:3,\r\n    //跳高\r\n    IT_Jump:4,\r\n};\r\n\r\nvar effects = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       effects:null,\r\n       camera:null,\r\n\r\n\r\n       //拾取距离\r\n        pickRadius:0,\r\n\r\n       //物品Prefab列表\r\n       ItemPrefabList:\r\n       {\r\n           default: [],  \r\n           type: [cc.Prefab],\r\n       },\r\n\r\n       //概率列表\r\n       ItemRateList:\r\n       {\r\n           default:[],\r\n           type: [cc.Integer],                    \r\n       },\r\n\r\n       //随机的基数\r\n       _RandBaseNum : 100,\r\n       _RandRateList: [],\r\n       //物品池\r\n       _ItemPoolList: [],\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.camera=cc.find(\"Canvas/Main Camera\")\r\n    },\r\n\r\n    start () {\r\n        this.effects=this.node.children\r\n    },\r\n\r\n    update (dt) {\r\n        // cc.log(this.effects.length)\r\n        //遍历子节点，如果出界则销毁\r\n        for(var i=0;i<this.effects.length;i++){\r\n            if(this.effects[i].isValid){\r\n                if(this.effects[i].y<this.camera.y-this.camera.parent.height/2){\r\n                    this.effects[i].destroy()\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    \r\n\r\n    \r\n});\r\n\r\nmodule.exports = {\r\n    getRandomNum:function() {\r\n        //生成[0,5)的随机整数\r\n        var randNum = parseInt(Math.random()*5);\r\n        return randNum;\r\n    },\r\n    getItem:function(randomNum) {\r\n        switch(randomNum) {\r\n            //没有东西\r\n            case 0:\r\n                return null;\r\n            //变大\r\n            case 1:\r\n                return 'star_big';\r\n            //变小\r\n            case 2:\r\n                return 'star_small';\r\n            //画辅助线\r\n            case 3:\r\n                return 'pen';\r\n            //跳高\r\n            case 4:\r\n                return 'jump';\r\n        }\r\n    }\r\n};\r\n"]}