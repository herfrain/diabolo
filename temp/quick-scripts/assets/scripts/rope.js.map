{"version":3,"sources":["rope.js"],"names":["cc","Class","extends","Component","properties","physicsBoxCollider","diabolo","diaboloComponent","used","camera","onLoad","find","node","getComponent","PhysicsBoxCollider","start","update","dt","isValid","y","enabled","isFly","parent","height","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,4BAAmB,IADX,EACgB;AACxBC,iBAAQ,IAFA,EAEK;AACbC,0BAAiB,IAHT;AAIRC,cAAK,KAJG,EAIG;AACXC,gBAAO;AALC,KAHP;;AAWL;;AAEAC,UAbK,oBAaK;AACN,aAAKJ,OAAL,GAAaN,GAAGW,IAAH,CAAQ,gBAAR,CAAb;AACA;AACA,aAAKN,kBAAL,GAAwB,KAAKO,IAAL,CAAUC,YAAV,CAAuBb,GAAGc,kBAA1B,CAAxB;AACA;AACA,aAAKP,gBAAL,GAAsB,KAAKD,OAAL,CAAaO,YAAb,CAA0B,SAA1B,CAAtB;AACA,aAAKJ,MAAL,GAAYT,GAAGW,IAAH,CAAQ,oBAAR,CAAZ;AACH,KApBI;AAsBLI,SAtBK,mBAsBI,CAER,CAxBI;AA0BLC,UA1BK,kBA0BGC,EA1BH,EA0BO;AACR;AACA;AACA;AACA;AACA;AACA;AACA,YAAG,KAAKL,IAAL,CAAUM,OAAb,EAAqB;AACjB,gBAAG,KAAKN,IAAL,CAAUO,CAAV,GAAY,KAAKb,OAAL,CAAaa,CAAzB,IAA4B,KAAKd,kBAAL,CAAwBe,OAApD,IAA6D,KAAKb,gBAAL,CAAsBc,KAAtF,EAA4F;AACxF;AACA,qBAAKhB,kBAAL,CAAwBe,OAAxB,GAAgC,KAAhC;AACH,aAHD,MAGM,IAAG,CAAC,KAAKb,gBAAL,CAAsBc,KAAvB,IAA8B,CAAC,KAAKhB,kBAAL,CAAwBe,OAA1D,EAAkE;AACpE,qBAAKf,kBAAL,CAAwBe,OAAxB,GAAgC,IAAhC;AACH;AACD,gBAAG,KAAKR,IAAL,CAAUO,CAAV,GAAY,KAAKV,MAAL,CAAYU,CAAZ,GAAc,KAAKV,MAAL,CAAYa,MAAZ,CAAmBC,MAAnB,GAA0B,CAAvD,EAAyD;AACrD;AACA,qBAAKX,IAAL,CAAUY,OAAV;AACH;AACJ;AAEJ;AA9CI,CAAT","file":"rope.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        physicsBoxCollider:null,//物理碰撞\r\n        diabolo:null,//空竹\r\n        diaboloComponent:null,\r\n        used:false,//是否使用过\r\n        camera:null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.diabolo=cc.find(\"Canvas/diabolo\")\r\n        //\r\n        this.physicsBoxCollider=this.node.getComponent(cc.PhysicsBoxCollider)\r\n        //\r\n        this.diaboloComponent=this.diabolo.getComponent(\"diabolo\")\r\n        this.camera=cc.find(\"Canvas/Main Camera\")\r\n    },\r\n\r\n    start () {\r\n        \r\n    },\r\n\r\n    update (dt) {\r\n        //如果空竹在上面，则开门\r\n        //空竹弹出后，开门\r\n        //其他情况，关门\r\n        //cc.log(this.diabolo.isFly)\r\n        //if(this.on)\r\n        // cc.log(this.node.isValid)\r\n        if(this.node.isValid){\r\n            if(this.node.y<this.diabolo.y&&this.physicsBoxCollider.enabled&&this.diaboloComponent.isFly){\r\n                //cc.log(1)\r\n                this.physicsBoxCollider.enabled=false\r\n            }else if(!this.diaboloComponent.isFly&&!this.physicsBoxCollider.enabled){\r\n                this.physicsBoxCollider.enabled=true\r\n            }\r\n            if(this.node.y<this.camera.y-this.camera.parent.height/2){\r\n                // cc.log(2)\r\n                this.node.destroy()\r\n            }\r\n        }\r\n        \r\n    },\r\n});\r\n"]}