{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\camera.js"],"names":["cc","Class","extends","Component","properties","diabolo","default","type","Node","diaboloComponent","preH","onLoad","getComponent","start","rope","y","update","dt","h","moveAction","moveBy","v2","easing","easeCubicActionOut","node","runAction"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAQ;AACJC,qBAAQ,IADJ;AAEJC,kBAAKP,GAAGQ;AAFJ,SADA,EAIN;AACFC,0BAAiB,IALT;AAMRC,cAAK,CANG,CAMD;AANC,KAHP;;AAYL;;AAEAC,UAdK,oBAcK;AACN;AACA,aAAKF,gBAAL,GAAsB,KAAKJ,OAAL,CAAaO,YAAb,CAA0B,SAA1B,CAAtB,CAFM,CAEoD;AAC7D,KAjBI;AAmBLC,SAnBK,mBAmBI;AACL,aAAKH,IAAL,GAAU,KAAKD,gBAAL,CAAsBK,IAAtB,CAA2BC,CAArC;AACH,KArBI;AAuBLC,UAvBK,kBAuBGC,EAvBH,EAuBO;;AAER;AACA,YAAG,KAAKR,gBAAL,CAAsBM,CAAtB,GAAwB,KAAKL,IAA7B,GAAkC,CAArC,EAAuC;AACnC;AACA,gBAAIQ,IAAE,KAAKT,gBAAL,CAAsBM,CAAtB,GAAwB,KAAKL,IAAnC;AACA,iBAAKA,IAAL,GAAU,KAAKD,gBAAL,CAAsBM,CAAhC;AACA;AACA,gBAAII,aAAWnB,GAAGoB,MAAH,CAAU,CAAV,EAAYpB,GAAGqB,EAAH,CAAM,CAAN,EAAQH,CAAR,CAAZ,EAAwBI,MAAxB,CAA+BtB,GAAGuB,kBAAH,EAA/B,CAAf;AACA,iBAAKC,IAAL,CAAUC,SAAV,CAAoBN,UAApB;AACH;AACJ;AAlCI,CAAT","file":"camera.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        diabolo:{\r\n            default:null,\r\n            type:cc.Node\r\n        },//空竹对象\r\n        diaboloComponent:null,\r\n        preH:0,//前一个高度\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        // this.enabled=false\r\n        this.diaboloComponent=this.diabolo.getComponent(\"diabolo\")//获取组件\r\n    },\r\n\r\n    start () {\r\n        this.preH=this.diaboloComponent.rope.y\r\n    },\r\n\r\n    update (dt) {\r\n\r\n        // 如果高度差大于0，即往上运动时，摄像机跟随移动\r\n        if(this.diaboloComponent.y-this.preH>0){\r\n            // cc.log(this.diaboloComponent.y)\r\n            var h=this.diaboloComponent.y-this.preH\r\n            this.preH=this.diaboloComponent.y\r\n            //缓动效果\r\n            var moveAction=cc.moveBy(2,cc.v2(0,h)).easing(cc.easeCubicActionOut())\r\n            this.node.runAction(moveAction)\r\n        }\r\n    },\r\n});\r\n"]}